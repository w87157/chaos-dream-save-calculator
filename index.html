<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <title>卡厄斯夢境 存檔分數計算器</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <h1>卡厄斯夢境 存檔分數計算器</h1>
    <div class="subtitle">依照 TIER 與事件紀錄計算角色分數與總分</div>

    <!-- 存檔資料價值：最上方獨立區塊 -->
    <div class="top-panel">
      <div class="section-title">📌 存檔資料價值</div>
      <div class="grid" style="max-width: 320px">
        <div class="field">
          <label for="tier">
            存檔 TIER
            <span class="hint">請先選擇存檔價值再記錄事件</span>
          </label>
          <select id="tier"></select>
        </div>
      </div>
    </div>

    <div class="app-layout">
      <!-- 左：事件選擇 -->
      <div class="left-panel">
        <div class="panel-section event-panel">
          <div class="section-title">📘 事件輸入</div>

          <!-- ① 事件 -->
          <div class="sub-title">① 事件</div>
          <div class="pill-group" data-group="eventType"></div>

          <!-- ② 卡片種類 -->
          <div class="sub-title">② 卡片種類</div>
          <div class="pill-group" data-group="cardType"></div>

          <!-- ③ 閃卡狀態 -->
          <div class="sub-title">③ 閃卡狀態</div>
          <div class="pill-group" data-group="foilType"></div>

          <!-- 操作按鈕 -->
          <div class="action-row">
            <button id="confirmBtn" class="primary-btn">確定</button>
            <button id="undoBtn" class="secondary-btn">還原</button>
            <button id="clearBtn" class="danger-btn">清空</button>
          </div>
        </div>
      </div>

      <!-- 右：角色進度條 + 事件紀錄 -->
      <div class="right-panel">
        <!-- 角色分數區塊（只保留進度條） -->
        <div class="role-progress-panel">
          <div class="role-progress-item" data-role="char1">
            <div class="role-progress-title">角色 1</div>
            <div class="progress-wrapper">
              <div class="progress-label" id="char1Label">
                角色分數：0 / 0 pt
              </div>
              <div class="progress-bar">
                <div class="progress-fill" id="char1Fill"></div>
              </div>
            </div>
          </div>
          <div class="role-progress-item" data-role="char2">
            <div class="role-progress-title">角色 2</div>
            <div class="progress-wrapper">
              <div class="progress-label" id="char2Label">
                角色分數：0 / 0 pt
              </div>
              <div class="progress-bar">
                <div class="progress-fill" id="char2Fill"></div>
              </div>
            </div>
          </div>
          <div class="role-progress-item" data-role="char3">
            <div class="role-progress-title">角色 3</div>
            <div class="progress-wrapper">
              <div class="progress-label" id="char3Label">
                角色分數：0 / 0 pt
              </div>
              <div class="progress-bar">
                <div class="progress-fill" id="char3Fill"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Summary -->
        <div class="right-header">
          <div class="right-title">事件紀錄（僅顯示目前選取角色）</div>
          <div class="summary">
            <div>上限 <span id="limitPt">0</span> pt</div>
            <div>累計 <span id="totalPt">0</span> pt</div>
            <div>剩餘 <span id="remainPt">0</span> pt</div>
          </div>
        </div>

        <!-- 紀錄列表 -->
        <div id="logList" class="log-list">
          <div class="log-empty">尚無記錄。</div>
        </div>
      </div>
    </div>

    <!-- 浮動儲存區塊 -->
    <div class="save-load-bar">
      <button type="button" id="saveBtn" class="save-btn">💾</button>
      <button type="button" id="loadBtn" class="load-btn">📂</button>
      <button type="button" id="clearSaveBtn" class="clear-save-btn">🧹</button>
      <span id="saveStatus" class="save-status"></span>
    </div>

    <script type="module" src="js/main.js"></script>
  </body>
</html>
